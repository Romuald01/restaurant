_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{RNiq:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("HaE+"),c=a("q1tI"),i=a.n(c),o=a("8Kt/"),l=a.n(o),d=a("p46w"),u=a.n(d),m=a("nOHt"),p=a.n(m),b=a("5Yp1"),v=a("rePB"),f=a("Cs6D"),g=a("/MKj"),j=a("4svx"),h=a("MX0m"),N=a.n(h),w=i.a.createElement,x=function(){return w(i.a.Fragment,null,w("div",{className:"jsx-641447402 lds-ring"},w("div",{className:"jsx-641447402"}),w("div",{className:"jsx-641447402"}),w("div",{className:"jsx-641447402"}),w("div",{className:"jsx-641447402"})),w(N.a,{id:"641447402"},[".lds-ring.jsx-641447402{display:inline-block;position:relative;width:80px;height:80px;}",".lds-ring.jsx-641447402 div.jsx-641447402{box-sizing:border-box;display:block;position:absolute;width:40px;height:40px;margin:8px;border:8px solid #DC042A;border-radius:50%;-webkit-animation:lds-ring-jsx-641447402 1.2s cubic-bezier(0.5,0,0.5,1) infinite;animation:lds-ring-jsx-641447402 1.2s cubic-bezier(0.5,0,0.5,1) infinite;border-color:#DC042A transparent transparent transparent;}",".lds-ring.jsx-641447402 div.jsx-641447402:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s;}",".lds-ring.jsx-641447402 div.jsx-641447402:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s;}",".lds-ring.jsx-641447402 div.jsx-641447402:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s;}","@-webkit-keyframes lds-ring-jsx-641447402{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes lds-ring-jsx-641447402{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]))},O=a("h01r"),y=a("DJ7r"),k=a("be20"),E=i.a.createElement;function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){var t=e.cities,a=Object(c.useState)([]),n=a[0],o=a[1],l=Object(c.useState)(null),d=l[0],m=l[1],b=Object(c.useState)(0),v=b[0],j=b[1],h=Object(c.useState)(!1),N=h[0],w=h[1],S=Object(c.useState)(!1),P=S[0],_=S[1],A=t.map((function(e){return{value:e.id,label:e.city}})),D=Object(g.b)();Object(c.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("settings/get-order-times");case 3:if(t=e.sent,a=t.data.data,!1!==Object(k.a)(a)){e.next=12;break}return $("#showClosed").modal("show"),_(!1),e.abrupt("return");case 12:return _(!0),e.abrupt("return");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){D(Object(O.z)(null)),D(Object(O.A)(null)),D(Object(O.t)(null)),D(Object(O.r)([])),D(Object(O.v)(null)),D(Object(O.E)(0)),D(Object(O.C)()),u.a.remove("selectedRestaurant")}),[]);return E(i.a.Fragment,null,E("section",{className:"header-content"},E("div",{className:"container"},E("div",{className:"row"},E("div",{className:"col-md-8 mx-auto text-center"},E("div",{className:"headtext-container"},E("div",{className:"title"},E("span",{className:"block"}),E("h1",null,"Enjoy tasty meals,")),E("div",{className:"role"},E("div",{className:"block"}),E("h1",null,"wherever you are",E("span",null))),E("p",null,"Ordering from:"),E("form",{className:"select-state"},E(f.a,{options:A,className:!0===P?"select-tool":"select-tool select-disabled",placeholder:"Select a State",instanceId:"cityId",onChange:function(e){w(!0),j(1),setTimeout((function(){w(!1),j(0)}),1e3),m(null);var a=t.find((function(t){return t.id===e.value})).restaurants;a=a.map((function(e){return C(C({},e),{},{value:e.city_id,label:e.name})})),o(a),D(Object(O.s)(a)),D(Object(O.x)(a)),D(Object(O.z)(e))}}),E(f.a,{value:d,options:n.length>0?n:[],className:n.length>0?"select-tool":"select-tool select-disabled",placeholder:"Select Restaurant",instanceId:"restaurantId",onChange:function(e){w(!0),j(1),u.a.remove("totalPrice"),u.a.remove("setCart"),u.a.remove("orderItem"),localStorage.removeItem("checkoutToLogin"),m(e),D(Object(O.t)(e)),u.a.set("selectedRestaurant",JSON.stringify(e));var t={label:e.label,value:e.id};D(Object(O.A)(t)),p.a.push("/menu")}}),N&&1===v&&E("div",{className:"inline-loading-css"},E(x,null))))))),E("img",{className:"left-banner-image",src:"/images/left-banner-image.svg",alt:""}),E("img",{className:"right-banner-image",src:"/images/right-banner-image.svg",alt:""})))},_=a("of9s"),A=a("Lo8k"),D=i.a.createElement,I=function(){var e=Object(g.c)((function(e){return e.shop.recentOrders})),t=Object(c.useState)(0),a=t[0],n=t[1],o=Object(c.useState)(e),l=o[0],d=(o[1],Object(g.b)()),m=Object(g.c)((function(e){return e.loader.loading})),b=Object(g.c)((function(e){return e.auth.loggedIn})),v=function(){var e=Object(s.a)(r.a.mark((function e(t,a,s){var c,i,o,l,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),d(Object(j.b)()),c=u.a.get("token"),i={name:a,id:s},e.prev=4,e.next=7,y.a.post("re-order",{order_id:t},{headers:{Authorization:"Bearer ".concat(c)}});case 7:o=e.sent,l=o.data,m=l.data,d(Object(O.r)(m)),d(Object(O.C)()),d(Object(j.b)()),n(0),d(Object(O.t)(i)),_.NotificationManager.success("Added to cart successfully","",3e3),p.a.push("/cart"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0),d(Object(j.b)()),_.NotificationManager.error(e.t0.response.data.message,"",3e3);case 24:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t,a,n){return e.apply(this,arguments)}}();return D(i.a.Fragment,null,b&&l.length>0?D("section",{className:"orders"},D("div",{className:"container"},D("div",{className:"row"},D("div",{className:"col-12 text-center"},D("h2",null,"Recent orders")),0===l.length?D("p",{className:"text-center w-100 mt-0 mb-0"},"You have no recent orders yet."):D(i.a.Fragment,null,l.slice(0,2).map((function(e){var t=e.order_items;return D("div",{key:e.id,className:"col-md-8 mx-auto"},D("div",{className:"orders-container"},D("div",{className:"row"},D("div",{className:"col-md-12"},D("div",{className:"order-details-container"},D("div",{className:"d-flex flex-wrap justify-content-between"},D("p",{className:"text-red"},e.restaurant),D("p",{className:"date"},e.order_date)),t.map((function(e){return D("div",{key:e.id,className:"d-flex flex-wrap justify-content-between"},D("p",{className:"prices-details"},e.quantity,"x ",e.product),D("p",{className:"prices-details"},"\u20a6",e.subtotal))})),e.delivery&&D("div",{className:"d-flex flex-wrap justify-content-between"},D("p",{className:"prices-details"},"Delivery Price"),D("p",{className:"prices-details"},"\u20a6",e.delivery)),D("div",{className:"d-flex flex-wrap justify-content-between"},D("p",{className:"prices-details bold-text"},"Total(Including vat)"),D("p",{className:"prices-details bold-text"},"\u20a6",e.total)),D("div",null,m&&a===e.id?D(A.a,null):D("button",{onClick:function(){return v(e.id,e.restaurant,e.restaurant_id)},className:"btn"},D("span",{className:"text"},"Re-order"))))))))})))))):D("div",null))},R=i.a.createElement,z=function(e){var t=e.cities;return Object(c.useEffect)((function(){localStorage.setItem("setAllCities",JSON.stringify(t)),(u.a.set("couponAmt")||u.a.set("coupName")||u.a.set("totalPriceAmtWithCoupon")||u.a.set("unusedBalance")||u.a.set("newUnusedBalance"))&&(u.a.remove("unusedBalance"),u.a.remove("couponAmt"),u.a.remove("totalPriceAmtWithCoupon"),u.a.remove("coupName"),u.a.remove("newUnusedBalance"))}),[]),Object(c.useEffect)((function(){window.$=$,$(window).ready((function(){$("html, body").css({"overflow-x":"hidden"})})),$(window).scroll((function(){$(window).scrollTop()>=900?($(".app-img-1").addClass("animate-1"),$(".app-img-2").addClass("animate-2")):($(".app-img-1").removeClass("animate-1"),$(".app-img-2").removeClass("animate-2"))}))}),[]),R(i.a.Fragment,null,R(b.a,{showSecFooter:!0},R(l.a,null,R("title",null,"Kilimanjaro")),R(P,{cities:t}),R(I,null),R("section",{className:"how-it-works"},R("div",{className:"container"},R("div",{className:"row"},R("div",{className:"col-12 text-center"},R("h2",{className:"mb-md-5"},"How it works"))),R("div",{className:"row"},R("div",{className:"col-md-4 text-center bounce-hover"},R("img",{className:"w-50 headline bounce",src:"/images/icon/location-icon.png",alt:""}),R("h5",{className:"text-red"},"Select nearest location"),R("p",null,"Select the state and restaurant closest to your pick-up/delivery location.")),R("div",{className:"col-md-4 text-center bounce-hover"},R("img",{className:"w-50 bounce",src:"/images/icon/menu-icon.png",alt:""}),R("h5",{className:"text-red"},"Choose your meal"),R("p",null,"Place your order by choosing from the numerous delicacies on our menu.")),R("div",{className:"col-md-4 text-center bounce-hover"},R("img",{className:"w-50 bounce",src:"/images/icon/delivery-pickup.png",alt:""}),R("h5",{className:"text-red"},"Enjoy your meal"),R("p",null,"Pick up your tasty meal in-store or have it delivered to your doorstep.")))))))};z.getInitialProps=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("cities");case 3:return t=e.sent,a=t.data.data,e.abrupt("return",{cities:a});case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{cities:{}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));t.default=z},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",1,2,0,3,4,7]]]);